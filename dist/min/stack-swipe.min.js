!function($,t,i,e){var a=function(t,i){this.elem=t,this.$elem=$(t),this.$stack=this.$elem.find(".stack-swipe-stack"),this.$allCards=this.$stack.find("li"),this.$currentCard=this.$allCards.filter(":first-of-type"),this.options=$.extend({buttonText:{left:"&larr;",up:"&uarr;",down:"&darr;",right:"&rarr;"},peek:{from:{opacity:0,scale:.8},to:{opacity:.5,scale:.9}},devMode:!1},i)};a.prototype={init:function(){return this.card.setup.call(this),this},card:{setup:function(){var t=this.$stack.find("li"),i=t.filter(":first-of-type"),e=t.filter(":nth-of-type(2)");if(!i.length>0)return this.$elem.trigger("cardsExhausted"),this.buttons.setup.call(this,-1),!1;this.$allCards=t,this.$currentCard=i,this.$nextCard=e;var a=new Hammer(this.$currentCard[0]),n=this.card.availableDirections.call(this),r=this;this.buttons.setup.call(this,n),this.$currentCard.transition({opacity:1,scale:1}),a.get("pan").set({direction:Hammer.DIRECTION_ALL}),a.get("swipe").set({direction:Hammer.DIRECTION_ALL,threshold:20}),a.on("swipe",function(t){r.card.handleSwipe.call(r,t,n)}),a.on("panstart",function(t){r.$nextCard.transition({opacity:r.options.peek.to.opacity,scale:r.options.peek.to.scale},function(){$(this).addClass("peek")}),r.$elem.trigger("swipeStart")}),a.on("panmove",function(t){r.$elem.trigger("swipeMove",{x:t.deltaX,y:t.deltaY}),r.card.drag.call(r,t.deltaX,t.deltaY)}),a.on("panend",function(t){return 1==r.isSwiping?!1:(r.$nextCard.transition({opacity:r.options.peek.from.opacity,scale:r.options.peek.from.scale},function(){$(this).removeClass("peek")}),r.$elem.trigger("swipeDrop"),void r.card.springBack.call(r))})},availableDirections:function(){var t=this.$currentCard,i=["left","up","down","right"],e=[];return $.each(i,function(i,a){1==t.data("swipe-"+a)&&e.push(a)}),e},drag:function(t,i){this.$currentCard.css({translate:[t,i]})},springBack:function(){this.$currentCard.transition({x:0,y:0},200,"easeOutBack")},throwOut:function(t){var i=this.$elem.width(),e=1.5*i,a=this.$elem.height(),n=1.5*a,r=this,s;switch(t){case"up":s={x:0,y:-n};break;case"right":s={x:e,y:0};break;case"down":s={x:0,y:n};break;case"left":s={x:-e,y:0}}this.$currentCard.transition(s,200,"easeOutQuad",function(){r.$currentCard.remove(),r.isSwiping=!1,r.card.swipeSuccess.call(r,r.$currentCard,t)})},handleSwipe:function(t,i){var e=t.direction,a={8:"up",4:"right",2:"left",16:"down"},n=a[e];-1!==$.inArray(n,i)?(this.isSwiping=!0,this.card.throwOut.call(this,n)):this.card.swipeUnavailable.call(this,n)},swipeSuccess:function(t,i){this.$elem.trigger("swipeSuccess",[t,i]),this.card.setup.call(this)},swipeUnavailable:function(t){this.$elem.trigger("swipeUnavailable",t)}},buttons:{setup:function(t){var i=this.$elem.find(".stack-swipe-btns"),e=i.find("ul"),a="",n=this;return-1===t?(e.html(""),!1):($.each(t,function(t,i){var e=n.options.buttonText[i];a=a+'<li class="'+i+'" data-direction="'+i+'">'+e+"</li>"}),e.html("").append(a),void e.find("li").on("click",function(){var t=$(this).data("direction");n.card.throwOut.call(n,t)}))}}},$.fn.StackSwipe=function(t){return this.each(function(){new a(this,t).init()})}}(jQuery,window,document);
//# sourceMappingURL=./stack-swipe.min.js.map