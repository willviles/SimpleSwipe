!function($,t,i,e){var a=function(t,i){this.elem=t,this.$elem=$(t),this.$stack=this.$elem.find(".stack-swipe-stack"),this.$allCards=this.$stack.find("li"),this.$currentCard=this.$allCards.filter(":first-of-type"),this.options=$.extend({buttonText:{left:"&larr;",up:"&uarr;",down:"&darr;",right:"&rarr;"},devMode:!1},i)};a.prototype={init:function(){return this.card.setup.call(this),this},card:{setup:function(){var t=this.$stack.find("li"),i=t.filter(":first-of-type"),e=t.filter(":nth-of-type(2)");if(!i.length>0)return this.$elem.trigger("cardsExhausted"),this.buttons.setup.call(this,-1),!1;this.$allCards=t,this.$currentCard=i,this.$nextCard=e;var a=new Hammer(this.$currentCard[0]),n=this.card.availableDirections.call(this),s=this;this.buttons.setup.call(this,n),this.$currentCard.transition({opacity:1,scale:1}),a.get("pan").set({direction:Hammer.DIRECTION_ALL}),a.get("swipe").set({direction:Hammer.DIRECTION_ALL,threshold:20}),a.on("swipe",function(t){s.card.handleSwipe.call(s,t,n)}),a.on("panstart",function(t){s.$nextCard.transition({opacity:.5,scale:.9},function(){$(this).addClass("peek")}),s.$elem.trigger("swipeStart")}),a.on("panmove",function(t){s.$elem.trigger("swipeMove",{x:t.deltaX,y:t.deltaY}),s.card.drag.call(s,t.deltaX,t.deltaY)}),a.on("panend",function(t){return 1==s.isSwiping?!1:(s.$nextCard.transition({opacity:0,scale:.8},function(){$(this).removeClass("peek")}),s.$elem.trigger("swipeDrop"),void s.card.springBack.call(s))})},availableDirections:function(){var t=this.$currentCard,i=["left","up","down","right"],e=[];return $.each(i,function(i,a){1==t.data("swipe-"+a)&&e.push(a)}),e},drag:function(t,i){this.$currentCard.css({translate:[t,i]})},springBack:function(){this.$currentCard.transition({x:0,y:0},200,"easeOutBack")},throwOut:function(t){var i=this.$elem.width(),e=1.5*i,a=this.$elem.height(),n=1.5*a,s=this,r;switch(t){case"up":r={x:0,y:-n};break;case"right":r={x:e,y:0};break;case"down":r={x:0,y:n};break;case"left":r={x:-e,y:0}}this.$currentCard.transition(r,200,"easeOutQuad",function(){$(this).remove(),s.isSwiping=!1,s.card.swipeSuccess.call(s,$(this),t)})},handleSwipe:function(t,i){var e=t.direction,a={8:"up",4:"right",2:"left",16:"down"},n=a[e];-1!==$.inArray(n,i)?(this.isSwiping=!0,this.card.throwOut.call(this,n)):this.card.swipeUnavailable.call(this,n)},swipeSuccess:function(t,i){this.$elem.trigger("swipeSuccess",t,i),this.card.setup.call(this)},swipeUnavailable:function(t){this.$elem.trigger("swipeUnavailable",t)}},buttons:{setup:function(t){var i=this.$elem.find(".stack-swipe-btns"),e=i.find("ul"),a="",n=this;return-1===t?(e.html(""),!1):($.each(t,function(t,i){var e=n.options.buttonText[i];a=a+'<li class="'+i+'" data-direction="'+i+'">'+e+"</li>"}),e.html("").append(a),void e.find("li").on("click",function(){var t=$(this).data("direction");n.card.throwOut.call(n,t)}))}}},$.fn.StackSwipe=function(t){return this.each(function(){new a(this,t).init()})}}(jQuery,window,document);
//# sourceMappingURL=./stack-swipe.min.js.map