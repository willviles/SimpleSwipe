!function($,t,i,e){var n=function(t,i){this.elem=t,this.$elem=$(t),this.$stack=this.$elem.find(".stack-swipe-stack"),this.$currentCard=this.$stack.find("li:first-of-type"),this.options=$.extend({buttonText:{left:"&larr;",up:"&uarr;",down:"&darr;",right:"&rarr;"}},i)};n.prototype={init:function(){return this.card.setup.call(this),this},card:{setup:function(){var t=this.$stack.find("li:first-of-type"),i=this.$stack.find("li:nth-of-type(2)");if(!t.length>0)return this.$elem.trigger("cardsExhausted"),this.buttons.setup.call(this,-1),!1;this.$currentCard=t,this.$nextCard=i;var e=new Hammer(this.$currentCard[0]),n=this.card.availableDirections.call(this),a=this;this.buttons.setup.call(this,n),this.$currentCard.transition({opacity:1,scale:1}),e.get("pan").set({direction:Hammer.DIRECTION_ALL}),e.get("swipe").set({direction:Hammer.DIRECTION_ALL,threshold:20}),e.on("swipe",function(t){a.card.handleSwipe.call(a,t,n)}),e.on("panstart",function(t){a.$nextCard.transition({opacity:.5,scale:.9},function(){$(this).addClass("peek")}),a.$elem.trigger("swipeStart")}),e.on("panmove",function(t){a.$elem.trigger("swipeMove",{x:t.deltaX,y:t.deltaY}),a.card.drag.call(a,t.deltaX,t.deltaY)}),e.on("panend",function(t){return 1==a.isSwiping?!1:(a.$nextCard.transition({opacity:0,scale:.8},function(){$(this).removeClass("peek")}),a.$elem.trigger("swipeDrop"),void a.card.springBack.call(a))})},availableDirections:function(){var t=this.$currentCard,i=["left","up","down","right"],e=[];return $.each(i,function(i,n){1==t.data("swipe-"+n)&&e.push(n)}),e},drag:function(t,i){this.$currentCard.css({translate:[t,i]})},springBack:function(){this.$currentCard.transition({x:0,y:0},200,"easeOutBack")},throwOut:function(t){var i=this.$elem.width(),e=1.5*i,n=this.$elem.height(),a=1.5*n,s=this,r;switch(t){case"up":r={x:0,y:-a};break;case"right":r={x:e,y:0};break;case"down":r={x:0,y:a};break;case"left":r={x:-e,y:0}}this.$currentCard.transition(r,200,"easeOutQuad",function(){$(this).remove(),s.isSwiping=!1,s.card.swipeSuccess.call(s,t)})},handleSwipe:function(t,i){var e=t.direction,n={8:"up",4:"right",2:"left",16:"down"},a=n[e];-1!==$.inArray(a,i)?(this.isSwiping=!0,this.card.throwOut.call(this,a)):this.card.swipeUnavailable.call(this,a)},swipeSuccess:function(t){this.$elem.trigger("swipeSuccess",t),this.card.setup.call(this)},swipeUnavailable:function(t){this.$elem.trigger("swipeUnavailable",t)}},buttons:{setup:function(t){var i=this.$elem.find(".stack-swipe-btns"),e=i.find("ul"),n="",a=this;return-1===t?(e.html(""),!1):($.each(t,function(t,i){var e=a.options.buttonText[i];n=n+'<li class="'+i+'" data-direction="'+i+'">'+e+"</li>"}),e.html("").append(n),void e.find("li").on("click",function(){var t=$(this).data("direction");a.card.throwOut.call(a,t)}))}}},$.fn.StackSwipe=function(t){return this.each(function(){new n(this,t).init()})}}(jQuery,window,document);
//# sourceMappingURL=./stack-swipe.min.js.map